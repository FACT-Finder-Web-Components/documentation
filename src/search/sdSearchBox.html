<link rel="import" href="../../bower_components/polymer/polymer.html"/>
<link rel="import" href="../../dist/ff-core.html"/>
<link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:400' type='text/css'>
<link rel="stylesheet" href="../../bower_components/components-font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="../../bower_components/bootstrap/dist/css/bootstrap.min.css">
<link rel="import" href="../../bower_components/iron-collapse/iron-collapse.html"/>
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html"/>
<link rel="import" href="search-icons.html">

<dom-module id="sd-search-box">
    <template>
        <style>
            iron-collapse {
                position: absolute;
                top: 64px;
                width: 100%;
                left: 0;
                --iron-collapse-transition-duration: 100ms;
                box-shadow: 0 3px 3px #888888;
            }
            #searchbox {
                font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
                width: 100%;
                height: 45px;
                color: #393939;
                text-align: center;
            }
        </style>
        <link rel="stylesheet" href="../../bower_components/bootstrap/dist/css/bootstrap.min.css">
        <iron-collapse id="collapse">
            <div class="collapse-content">
                    <input type="text" id="searchbox" placeholder="Search" on-keyup="handleKeyUp" on-blur="hide">
            </div>
        </iron-collapse>
        <paper-icon-button icon="search-icons:search" on-tap="toggleSearchBox">Search</paper-icon-button>
    </template>
</dom-module>
<script>
    class SdSearchBox extends Polymer.Element {

        constructor() {
            super();
        }

        static get is() {
            return "sd-search-box";
        }

        toggleSearchBox() {
            this.$.collapse.toggle();
            this.$.searchbox.focus();
        }


        handleKeyUp(event) {
            if (event.code === 'Enter') {

            } else if (event.code === "Escape") {
                hide();
            }
        }

        hide() {
            this.$.collapse.hide();
        }

        // noinspection JSUnusedGlobalSymbols
        connectedCallback() {
            super.connectedCallback();
        }

    }

    customElements.define(SdSearchBox.is, SdSearchBox);

</script>